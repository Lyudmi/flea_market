{"version":3,"sources":["js\\todo.js"],"names":["List","date","parent","list","document","createElement","setAttribute","classList","add","cell","getElementById","closebtn","innerHTML","dateOutput","textContent","noTaskMesssage","navBlock","showUndonebtn","showDonebtn","showAllbtn","deleteAllbtn","completeAllInp","style","display","completeAllLabel","checkCompleted","onclick","closeList","bind","filterTask","showAll","deleteAll","onchange","completeAll","appendChild","remove","rule","i","todoCache","li","state","setItem","JSON","stringify","querySelector","removeAttribute","counter","Object","keys","length","Task","text","stamp","Date","now","taskObj","doneInp","doneLable","span","editinput","editbtn","savebtn","removebtn","editTask","doneTask","removeTask","log","addEventListener","value","key","keyCode","saveChanges","task","values","find","e","removeChild","LoadTask","loadTask","onTaskAdded","inpText","inpDate","addTask","onLoadTask","ul","countDone","changeCheckCompletedState","Calendar2","id","year","month","Dlast","getDate","D","DNlast","getFullYear","getMonth","getDay","DNfirst","calendar","dataset","querySelectorAll","dayPicker","tbody","getElementsByTagName","monthSet","parseInt","getAttribute","day","isNaN","target","slice","scrollIntoView","behavior","parseFloat","todoWrp","parse","localStorage","getItem","window","onload","valueAsDate","today","toLocaleDateString","split","reverse","join","tommorow","getTime","addbtn","inputTask","return_btn"],"mappings":"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","file":"todo.19712837.map","sourceRoot":"..\\src","sourcesContent":["// =============================================\r\n// todoApi\r\n// =============================================\r\n\r\nclass List{\r\n\tconstructor(date, parent){\r\n\t\tthis.date = date;\r\n\t\tthis.list = document.createElement(\"ul\");\r\n\t\tthis.list.setAttribute(\"id\", this.date);\r\n\t\tthis.list.classList.add(\"todolist\");\r\n\t\tthis.cell = document.getElementById(`td${this.date}`);\r\n\r\n\t\tthis.closebtn = document.createElement(\"span\");\r\n\t\tthis.closebtn.classList.add(\"close_list\");\r\n\t\tthis.closebtn.setAttribute(\"title\", \"Close\");\r\n\t\tthis.closebtn.innerHTML = \"<i class='fas fa-times'></i>\";\t\t\r\n\t\tthis.dateOutput = document.createElement(\"p\");\r\n\t\tthis.dateOutput.textContent = this.date;\r\n\t\r\n\t\tthis.noTaskMesssage = document.createElement(\"div\");\r\n\t\tthis.noTaskMesssage.setAttribute(\"id\", `noTaskMesssage_${this.date}`);\r\n\t\tthis.noTaskMesssage.textContent = \"No task on this date\";\r\n\t\tthis.noTaskMesssage.classList.add(\"hide\");\t\r\n\t\r\n\t\tthis.navBlock = document.createElement(\"nav\");\r\n\t\tthis.navBlock.setAttribute(\"id\", `nav_${this.date}`);\r\n\t\tthis.showUndonebtn = document.createElement(\"button\");\r\n\t\tthis.showUndonebtn.innerHTML = \"Undone\";\r\n\t\tthis.showDonebtn = document.createElement(\"button\");\r\n\t\tthis.showDonebtn.innerHTML = \"Done\";\t\r\n\t\tthis.showAllbtn = document.createElement(\"button\");\r\n\t\tthis.showAllbtn.innerHTML = \"Show all\";\r\n\t\tthis.deleteAllbtn = document.createElement(\"button\");\r\n\t\tthis.deleteAllbtn.innerHTML = \"Delete All\";\r\n\r\n\t\tthis.completeAllInp = document.createElement(\"input\");\r\n\t\tthis.completeAllInp.setAttribute(\"type\", \"checkbox\");\r\n\t\tthis.completeAllInp.setAttribute(\"id\", `completeAllInp_${this.date}`);\r\n\t\tthis.completeAllInp.style.display = \"none\";\r\n\t\tthis.completeAllLabel = document.createElement(\"label\");\r\n\t\tthis.completeAllLabel.setAttribute(\"for\", `completeAllInp_${this.date}`);\r\n\t\tthis.completeAllLabel.innerHTML = \"Complete All\";\r\n\t\tthis.checkCompleted = false;\r\n\r\n\t\tthis.closebtn.onclick = this.closeList.bind(this);\r\n\t\tthis.showUndonebtn.onclick = this.filterTask.bind(this, false);\r\n\t\tthis.showDonebtn.onclick = this.filterTask.bind(this, true);\r\n\t\tthis.showAllbtn.onclick = this.showAll.bind(this);\r\n\t\tthis.deleteAllbtn.onclick = this.deleteAll.bind(this);\r\n\t\tthis.completeAllInp.onchange = this.completeAll.bind(this);\r\n\r\n\t\tthis.navBlock.appendChild(this.showUndonebtn);\r\n\t\tthis.navBlock.appendChild(this.showDonebtn);\r\n\t\tthis.navBlock.appendChild(this.showAllbtn);\r\n\t\tthis.navBlock.appendChild(this.deleteAllbtn);\r\n\t\tthis.navBlock.appendChild(this.completeAllInp);\r\n\t\tthis.navBlock.appendChild(this.completeAllLabel);\r\n\t\t\r\n\t\tthis.list.appendChild(this.closebtn);\r\n\t\tthis.list.appendChild(this.dateOutput);\r\n\t\tthis.list.appendChild(this.noTaskMesssage);\r\n\t\tthis.list.appendChild(this.navBlock);\r\n\t\tparent.appendChild(this.list);\t\t\t\r\n\t}\r\n\r\n\tcloseList(){\r\n\t\tthis.list.remove();\r\n\t}\r\n\r\n\tfilterTask(rule){\r\n\t\tfor (let i in todoCache[this.date]) {\r\n\t\t\tthis.li = document.getElementById(`${i}`);\r\n\t\t\tif(todoCache[this.date][i].state === rule){\r\n\t\t\t\tthis.li.classList.remove(\"hide\");\r\n\r\n\t\t\t} else if(todoCache[this.date][i].state !== rule){\r\n\t\t\t\tthis.li.classList.add(\"hide\");\r\n\t\t\t}\r\n\t\t}\r\n\t}\r\n\r\n\tshowAll(){\r\n\t\tfor (let i in todoCache[this.date]) {\r\n\t\t\tthis.li = document.getElementById(`${i}`);\r\n\t\t\tthis.li.classList.remove(\"hide\");\r\n\t\t}\t\r\n\t}\r\n\r\n\tdeleteAll(){\r\n\t\tfor (let i in todoCache[this.date]) {\r\n\t\t\tthis.li = document.getElementById(`${i}`);\r\n\t\t\tthis.li.remove();\r\n\t\t}\r\n\t\tthis.navBlock.classList.add(\"hide\");\r\n\t\tthis.noTaskMesssage.classList.remove(\"hide\");\r\n\t\tif(this.cell) {\r\n            this.cell.classList.remove(\"occupied\");\r\n            this.cell.classList.remove(\"all_completed\");\r\n\t\t}\r\n\t\tdelete todoCache[this.date];\r\n\t\tlocalStorage.setItem(\"todoCache\", JSON.stringify(todoCache));\r\n\t}\r\n\r\n\tcompleteAll(){\r\n\t\tthis.cell = document.getElementById(`td${this.date}`);\r\n\t\tif(this.checkCompleted !== true){\r\n\t\t\tfor (let i in todoCache[this.date]) {\r\n\t\t\t\ttodoCache[this.date][i].state = true;\r\n\t\t\t\tthis.li = document.getElementById(`${i}`);\t\t\t\t\r\n\t\t\t\tthis.li.querySelector(\"span\").classList.add(\"done_task\");\r\n\t\t\t\tthis.li.querySelector(`label[for=check_${i}`).classList.add(\"inp_checked\");\r\n\t\t\t\tthis.li.querySelector(\"button.editbtn\").setAttribute(\"disabled\", true);\r\n\t\t\t}\r\n\t\t\tthis.checkCompleted = true;\r\n\t\t\tthis.completeAllLabel.innerHTML = \"Uncomplete All\";\r\n\t\t\tif(this.cell){\r\n\t\t\t\tthis.cell.classList.remove(\"occupied\");\r\n\t\t\t\tthis.cell.classList.add(\"all_completed\");\r\n\t\t\t}\r\n\r\n\t\t} else {\r\n\t\t\tfor (let i in todoCache[this.date]) {\r\n\t\t\t\ttodoCache[this.date][i].state = false;\r\n\t\t\t\tthis.li = document.getElementById(`${i}`);\r\n\t\t\t\tthis.li.querySelector(\"span\").classList.remove(\"done_task\");\r\n\t\t\t\tthis.li.querySelector(`label[for=check_${i}`).classList.remove(\"inp_checked\");\r\n\t\t\t\tthis.li.querySelector(\"button.editbtn\").removeAttribute(\"disabled\");\r\n\t\t\t}\r\n\t\t\tthis.checkCompleted = false;\r\n\t\t\tthis.completeAllLabel.innerHTML = \"Complete All\";\r\n\t\t\tif(this.cell){\r\n\t\t\t\tthis.cell.classList.add(\"occupied\");\r\n\t\t\t\tthis.cell.classList.remove(\"all_completed\");\r\n\t\t\t}\r\n\t\t}\r\n\r\n\t\tlocalStorage.setItem(\"todoCache\", JSON.stringify(todoCache));\r\n\t}\r\n\r\n\tchangeCheckCompletedState(counter){\r\n\t\tif(todoCache[this.date]){\r\n\t\t\tlet check = Object.keys(todoCache[this.date]).length;\r\n\t\t\tif(counter === check){\r\n\t\t\t\tthis.completeAllLabel.innerHTML = \"Uncomplete All\";\r\n\t\t\t\tthis.checkCompleted = true;\t\t\r\n\t\t\t}\r\n\t\t}\r\n\t}\r\n}\r\n\r\nclass Task {\r\n\tconstructor(date, text){\r\n\t\tthis.date = date;\r\n\t\tthis.text = text;\r\n\t\tthis.stamp = Date.now();\r\n\t\tthis.taskObj = todoCache[this.date] || {};\r\n\t\tthis.cell = document.getElementById(`td${this.date}`);\r\n\r\n\t\tthis.li = document.createElement(\"li\");\r\n\t\tthis.li.setAttribute(\"id\", this.stamp);\r\n\t\tthis.li.classList.add(\"todoitem\");\r\n\t\tthis.doneInp = document.createElement(\"input\");\r\n\t\tthis.doneInp.setAttribute(\"type\", \"checkbox\");\r\n\t\tthis.doneInp.setAttribute(\"id\", `check_${this.stamp}`);\r\n\t\tthis.doneInp.style.display = \"none\";\r\n\t\tthis.doneLable = document.createElement(\"label\");\r\n\t\tthis.doneLable.setAttribute(\"for\", `check_${this.stamp}`);\r\n\t\tthis.doneLable.innerHTML = \"<i class='fas fa-check'></i>\";\r\n\t\tthis.span = document.createElement(\"span\");\r\n\t\tthis.editinput = document.createElement(\"textarea\");\r\n\t\tthis.editinput.classList.add(\"hide\");\r\n\t\tthis.editbtn = document.createElement(\"button\");\r\n\t\tthis.editbtn.classList.add(\"editbtn\");\r\n\t\tthis.editbtn.innerHTML = \"<i class='far fa-edit'></i>\";\r\n\t\tthis.savebtn = document.createElement(\"button\");\r\n\t\tthis.savebtn.innerHTML = \"<i class='far fa-save'></i>\";\r\n\t\tthis.savebtn.classList.add(\"hide\");\r\n\t\tthis.removebtn = document.createElement(\"button\");\r\n\t\tthis.removebtn.innerHTML = \"<i class='fas fa-trash'></i>\";\r\n\t\t\r\n\t\tthis.editbtn.onclick = this.editTask.bind(this);\r\n\t\tthis.doneInp.onchange = this.doneTask.bind(this);\r\n\t\tthis.removebtn.onclick = this.removeTask.bind(this);\r\n\r\n\t\tthis.li.appendChild(this.doneInp);\r\n\t\tthis.li.appendChild(this.doneLable);\r\n\t\tthis.li.appendChild(this.span);\r\n\t\tthis.li.appendChild(this.editinput);\r\n\t\tthis.li.appendChild(this.editbtn);\r\n\t\tthis.li.appendChild(this.savebtn);\r\n\t\tthis.li.appendChild(this.removebtn);\r\n\r\n\t\t// =====================================================\r\n\t\tthis.list = document.getElementById(this.date) || null;\r\n\t\tthis.noTaskMesssage = document.getElementById(`noTaskMesssage_${this.date}`);\r\n\t\tthis.navBlock = document.getElementById(`nav_${this.date}`);\r\n\t\t\r\n\t}\r\n\r\n\taddTask(){\r\n\t\tif(this.text && this.date){\r\n\t\t\tconsole.log(\"hi\");\r\n\t\t\tthis.taskObj[`${this.stamp}`] = {\r\n\t\t\t\ttask: this.text,\r\n\t\t\t\tstate: false\r\n\t\t\t};\r\n\t\t\ttodoCache[this.date] = this.taskObj;\r\n\t\t\tlocalStorage.setItem(\"todoCache\", JSON.stringify(todoCache));\r\n\r\n\t\t\tif(this.cell) {\r\n                this.cell.classList.add(\"occupied\");\r\n\t\t\t}\r\n\r\n\t\t\tthis.span.textContent = this.text;\r\n\t\t\tthis.noTaskMesssage.classList.add(\"hide\");\r\n\t\t\tthis.navBlock.classList.remove(\"hide\");\r\n\t\t\tthis.list.appendChild(this.li);\r\n\t\t}\r\n\t}\r\n\r\n\teditTask() {\r\n\t\tthis.editbtn.addEventListener(\"click\", () => {\r\n\t\t\tthis.editinput.value = this.span.textContent;\r\n\t\t\tthis.span.classList.add(\"hide\");\r\n\t\t\tthis.editbtn.classList.add(\"hide\");\r\n\t\t\tthis.editinput.classList.remove(\"hide\");\t\t\t\r\n\t\t\tthis.savebtn.classList.remove(\"hide\");\r\n\r\n\t\t\tthis.editinput.addEventListener(\"keyup\", (key) => {\r\n\t\t\t\tif(key.keyCode === 13) {\r\n\t\t\t\t\tthis.saveChanges();\r\n\t\t\t\t}\r\n\t\t\t});\r\n\r\n\t\t\tthis.savebtn.addEventListener(\"click\", () => {\r\n\t\t\t\tthis.saveChanges();\r\n\t\t\t});\r\n\t\t});\r\n\t}\r\n\r\n\tsaveChanges(){\r\n\t\tthis.span.textContent = this.editinput.value;\r\n\t\tthis.editinput.classList.add(\"hide\");\r\n\t\tthis.savebtn.classList.add(\"hide\");\r\n\t\tthis.span.classList.remove(\"hide\");\r\n\t\tthis.editbtn.classList.remove(\"hide\");\r\n\r\n\t\tthis.taskObj[`${this.stamp}`].task = `${this.span.textContent}`;\r\n\t\tthis.taskObj[`${this.stamp}`].state = false;\r\n\t\ttodoCache[this.date] = this.taskObj;\r\n\t\tlocalStorage.setItem(\"todoCache\", JSON.stringify(todoCache));\r\n\t}\r\n\r\n\tdoneTask(){\r\n\t\tthis.cell = document.getElementById(`td${this.date}`);\r\n\t\tif(this.taskObj[`${this.stamp}`].state !== true){\r\n\t\t\tthis.span.classList.add(\"done_task\");\r\n\t\t\tthis.doneLable.classList.add(\"inp_checked\");\r\n\t\t\tthis.editbtn.setAttribute(\"disabled\", true);\r\n\t\t\tthis.taskObj[`${this.stamp}`].state = true;\r\n\r\n\t\t\tlet check = Object.values(this.taskObj).find((e) => { \r\n\t\t\t\treturn (e.state === false)\r\n\t\t\t});\r\n\t\t\tif(!check){\r\n\t\t\t\tif(this.cell){\r\n\t\t\t\t\tthis.cell.classList.remove(\"occupied\");\r\n\t\t\t\t\tthis.cell.classList.add(\"all_completed\");\r\n\t\t\t\t}\t\r\n\t\t\t}\r\n\r\n\t\t} else {\r\n\t\t\tthis.span.classList.remove(\"done_task\");\r\n\t\t\tthis.doneLable.classList.remove(\"inp_checked\");\r\n\t\t\tthis.editbtn.removeAttribute(\"disabled\");\r\n\t\t\tthis.taskObj[`${this.stamp}`].state = false;\r\n\t\t\tif(this.cell){\r\n\t\t\t\tthis.cell.classList.add(\"occupied\");\r\n\t\t\t\tthis.cell.classList.remove(\"all_completed\");\r\n\t\t\t}\r\n\t\t}\r\n\t\t\r\n\t\ttodoCache[this.date] = this.taskObj;\r\n\t\tlocalStorage.setItem(\"todoCache\", JSON.stringify(todoCache));\r\n\t}\r\n\r\n\tremoveTask(){\r\n\t\tthis.list.removeChild(this.li);\r\n\t\tdelete this.taskObj[`${this.stamp}`];\r\n\r\n\t\tif(Object.keys(this.taskObj).length === 0){\r\n\t\t\tdelete todoCache[this.date];\r\n\t\t\tthis.navBlock.classList.add(\"hide\");\r\n\t\t\tthis.noTaskMesssage.classList.remove(\"hide\");\r\n\t\t\tif(this.cell) {\r\n\t\t\t\tthis.cell.classList.remove(\"occupied\");\r\n\t\t\t\tthis.cell.classList.remove(\"all_completed\");\r\n\t\t\t}\r\n\t\t} else {\r\n\t\t\ttodoCache[this.date] = this.taskObj;\r\n\t\t}\r\n\r\n\t\tlocalStorage.setItem(\"todoCache\", JSON.stringify(todoCache));\r\n\t}\r\n}\r\n\r\nclass LoadTask extends Task{\r\n\tconstructor(date, stamp, text, state){\r\n\t\tsuper();\r\n\t\tthis.date = date;\r\n\t\tthis.taskObj = todoCache[this.date];\r\n\t\tthis.stamp = stamp;\r\n\t\tthis.text = text;\r\n\t\tthis.state = state;\r\n\r\n\t\tthis.loadTask();\r\n\t}\r\n\r\n\tloadTask(){\r\n\t\tthis.list = document.getElementById(this.date);\r\n\t\tthis.noTaskMesssage = document.getElementById(`noTaskMesssage_${this.date}`);\r\n\t\tthis.navBlock = document.getElementById(`nav_${this.date}`);\r\n\t\tif(this.taskObj){\r\n\t\t\tthis.span.textContent = this.text;\r\n\t\t\tif(this.taskObj[`${this.stamp}`].state === true){\r\n\t\t\t\tthis.span.classList.add(\"done_task\");\r\n\t\t\t\tthis.doneLable.classList.add(\"inp_checked\");\r\n\t\t\t\tthis.editbtn.setAttribute(\"disabled\", true);\r\n\t\t\t}\r\n\r\n\t\t\tthis.doneInp = this.li.querySelector(\"input[type='checkbox']\");\r\n\t\t\tthis.doneLable = this.li.querySelector(\"label\");\r\n\t\t\tthis.doneInp.setAttribute(\"id\", `check_${this.stamp}`);\r\n\t\t\tthis.doneLable.setAttribute(\"for\", `check_${this.stamp}`);\r\n\t\t\tthis.li.setAttribute(\"id\", this.stamp);\r\n\t\t\tthis.list.appendChild(this.li);\r\n\r\n\t\t} else {\r\n\t\t\tthis.navBlock.classList.add(\"hide\");\r\n\t\t\tthis.noTaskMesssage.classList.remove(\"hide\");\r\n\t\t}\t\t\r\n\t}\r\n\r\n\tcountDone(){\t\t\r\n\t\tif(this.taskObj){\r\n\t\t\tif(this.taskObj[`${this.stamp}`].state === true){\r\n\t\t\t\tthis.span.classList.add(\"done_task\");\r\n\t\t\t\tthis.doneLable.classList.add(\"inp_checked\");\r\n\t\t\t\tthis.editbtn.setAttribute(\"disabled\", true);\r\n\r\n\t\t\t\treturn counter += 1;\r\n\t\t\t}\r\n\t\t}\r\n\t}\r\n}\r\n\r\nfunction onTaskAdded(parent){\t\r\n\tconst inpText = document.getElementById(\"addtask\");\r\n\tconst inpDate = document.getElementById(\"inpDate\");\r\n\tconst text = inpText.value;\r\n\tconst date = inpDate.value;\r\n\tconst list = document.getElementById(date);\r\n\r\n\tif(!text) {\r\n\t\tinpText.classList.add(\"inpError\");\r\n\t} else { \r\n\t\tinpText.classList.remove(\"inpError\");\r\n\t}\r\n\tif(!date){\r\n\t\tinpDate.classList.add(\"inpError\");\r\n\t} else {\r\n\t\tinpDate.classList.remove(\"inpError\");\r\n\t}\r\n\r\n\tif(text && date){\r\n\t\tif(list) {\r\n\t\t\tlet newTask = new Task(date, text);\r\n\t\t\tnewTask.addTask();\r\n\r\n\t\t} else {\r\n\t\t\tonLoadTask(date, parent);\r\n\t\t\tlet newTask = new Task(date, text);\r\n\t\t\tnewTask.addTask();\r\n\t\t}\r\n\t\tinpText.value = \"\";\t\t\r\n\t}\r\n}\r\n\r\nfunction onLoadTask(date, parent){\r\n\tcounter = 0;\r\n\tif(!document.getElementById(date)) {\r\n\t\tconst ul = new List(date, parent);\r\n\t\tif(!todoCache[date]){\r\n\t\t\tconsole.log(\"no\");\r\n\t\t\tlet load = new LoadTask(date);\r\n\r\n\t\t} else {\r\n\t\t\tlet stamp, text, state\r\n\t\t\tfor(let i in todoCache[date]){\t\r\n\t\t\t\tstamp = i;\r\n\t\t\t\ttext = todoCache[date][i].task;\r\n\t\t\t\tstate = todoCache[date][i].state;\r\n\t\t\t\tlet load = new LoadTask(date, stamp, text, state);\r\n\t\t\t\tload.countDone();\r\n\t\t\t}\r\n\t\t}\r\n\t\tul.changeCheckCompletedState(counter);\r\n\t}\r\n}\r\n\r\n// =============================================\r\n// calendar \r\n// =============================================\r\n\r\nfunction Calendar2(id, year, month) {\r\n\tlet Dlast = new Date(year, month+1,0).getDate();\r\n\tlet\tD = new Date(year, month, Dlast);\r\n\tlet\tDNlast = new Date(D.getFullYear(),D.getMonth(),Dlast).getDay();\r\n\tlet\tDNfirst = new Date(D.getFullYear(),D.getMonth(),1).getDay();\r\n\tlet\tcalendar = \"<tr>\";\r\n\tlet\tmonthArr = [\"January\",\"February\",\"March\",\"April\",\"May\",\"June\",\"July\",\"August\",\"September\",\"October\",\"November\",\"December\"];\r\n\t\r\n\tif (DNfirst != 0) {\r\n\t  for(let  i = 1; i < DNfirst; i++) calendar += \"<td>\";\r\n\t} else {\r\n\t  for(let  i = 0; i < 6; i++) calendar += \"<td>\";\r\n\t}\r\n\r\n\tfor(let  i = 1; i <= Dlast; i++) {\r\n\t  if (i == new Date().getDate() \r\n\t  \t&& D.getFullYear() == new Date().getFullYear() \r\n\t  \t&& D.getMonth() == new Date().getMonth()) {\r\n\t  \t\tcalendar += \"<td class='today'>\" + i;\r\n\t  } else {\r\n\t    \tcalendar += \"<td>\" + i;\r\n\t  }\r\n\r\n\t  if (new Date(D.getFullYear(),D.getMonth(),i).getDay() == 0) {\r\n\t  \t\tcalendar += \"<tr>\";\r\n\t  }\r\n\t}\r\n\tfor(let  i = DNlast; i < 7; i++) calendar += \"<td>&nbsp</td>\";\r\n\r\n\tdocument.querySelector(\"#\"+id+\" tbody\").innerHTML = calendar;\r\n\tdocument.querySelector(\"#\"+id+\" thead th:nth-child(2)\").innerHTML = monthArr[D.getMonth()] +\" \"+ D.getFullYear();\r\n\tdocument.querySelector(\"#\"+id+\" thead th:nth-child(2)\").dataset.month = D.getMonth();\r\n\tdocument.querySelector(\"#\"+id+\" thead th:nth-child(2)\").dataset.year = D.getFullYear();\r\n\tif (document.querySelectorAll(\"#\"+id+\" tbody tr\").length < 6) {  \r\n\t    document.querySelector(\"#\"+id+\" tbody\").innerHTML += \"<tr><td>&nbsp</td><td>&nbsp</td><td>&nbsp</td><td>&nbsp</td><td>&nbsp</td><td>&nbsp</td><td>&nbsp</td></tr>\";\r\n\t}\r\n\r\n}\r\n\r\nCalendar2(\"calendar2\", new Date().getFullYear(), new Date().getMonth());\r\n\r\n// previous month\r\ndocument.querySelector(\"#calendar2 thead tr:nth-child(1) th:nth-child(1)\").onclick = function() {\r\n  Calendar2(\"calendar2\", document.querySelector(\"#calendar2 thead th:nth-child(2)\").dataset.year, \r\n  \tparseFloat(document.querySelector(\"#calendar2 thead th:nth-child(2)\").dataset.month)-1);\r\n  dayPicker(todoWrp);\r\n\r\n}\r\n\r\n// next month\r\ndocument.querySelector(\"#calendar2 thead tr:nth-child(1) th:nth-child(3)\").onclick = function() {\r\n  Calendar2(\"calendar2\", document.querySelector(\"#calendar2 thead th:nth-child(2)\").dataset.year, \r\n  \tparseFloat(document.querySelector(\"#calendar2 thead th:nth-child(2)\").dataset.month)+1);\r\n    dayPicker(todoWrp);\r\n}\r\n\r\n// ============================================\r\n// dayPicker\r\n// ============================================\r\n\r\nfunction dayPicker(parent){\r\n\tconst tbody = document.getElementById(\"daySet\");\r\n\tlet cell = tbody.getElementsByTagName(\"td\");\r\n\tlet monthSet = document.getElementById(\"monthSet\");\r\n\tlet month = parseInt(monthSet.getAttribute(\"data-month\"), 10) + 1;\r\n\tif(month < 10) month = \"0\" + month;\r\n\tlet year = parseInt(monthSet.getAttribute(\"data-year\"), 10);\r\n\tlet day = \"\";\r\n\tlet date =\"\";\r\n\tfor(let i = 0; i < cell.length; i++){\r\n\t\tif(cell[i].textContent !== \"&nbsp\"){\r\n            day = parseInt(cell[i].textContent, 10);\r\n\t\t\tif(day < 10) day = \"0\" + day;\r\n\t\t\tdate = year+\"-\"+month+\"-\"+day;\r\n            cell[i].setAttribute(\"id\", `td${date}`);\r\n            \r\n\t\t\tif(!isNaN(day)) {\r\n                cell[i].addEventListener(\"click\", (e) => {\r\n\t\t\t\t\tlet date = e.target.id.slice(2);\r\n\t\t\t\t\tif(!document.getElementById(date)){\r\n\t\t\t\t\t\tonLoadTask(date, parent);\r\n\t\t\t\t\t}\r\n\t\t\t\t\tdocument.getElementById(date).scrollIntoView({ behavior: \"smooth\"});\r\n                });\r\n            } \r\n\t\t\tif(todoCache[date]) {\r\n\t\t\t\tlet check = Object.values(todoCache[date]).find((e) => { \r\n\t\t\t\t\treturn (e.state === false)\r\n\t\t\t\t});\r\n\r\n\t\t\t\t(!check) ? cell[i].classList.add(\"all_completed\")\r\n\t\t\t\t\t\t: cell[i].classList.add(\"occupied\");\r\n\r\n\t\t\t} else {\r\n\t\t\t\tcell[i].classList.remove(\"occupied\");\r\n\t\t\t\tcell[i].classList.remove(\"all_completed\"); \r\n\t\t\t}\r\n\t\t}\r\n\t}\r\n}\r\n\r\n// ======================================\r\n\r\nconst todoCache = JSON.parse(localStorage.getItem(\"todoCache\")) || {};\r\nconst todoWrp = document.getElementById(\"todo_wrp\");\r\n\r\nwindow.onload = () => {\r\n\tdocument.getElementById(\"inpDate\").valueAsDate = new Date();\r\n\tconst today = new Date().toLocaleDateString().split(\".\").reverse().join(\"-\");\r\n\tonLoadTask(today, todoWrp);\r\n\r\n\tconst tommorow = new Date(new Date().getTime() + (24 * 60 * 60 * 1000)).toLocaleDateString().split(\".\").reverse().join(\"-\");\r\n\tonLoadTask(tommorow, todoWrp);\r\n\r\n\tdayPicker(todoWrp);\r\n}\r\n\r\nconst addbtn = document.getElementById(\"addbtn\");\r\naddbtn.addEventListener(\"click\", () => {\r\n\tonTaskAdded(todoWrp);\r\n});\r\n\r\nconst inputTask = document.getElementById(\"addtask\");\r\ninputTask.addEventListener(\"keyup\", (key) => {\r\n\tif(key.keyCode === 13) {\r\n\t\tonTaskAdded(todoWrp);\r\n\t}\r\n});\r\n\r\nconst return_btn = document.getElementById(\"return_btn\");\r\nreturn_btn.addEventListener(\"click\", () => {\r\n\tdocument.getElementById(\"toDoHeader\").scrollIntoView({ behavior: \"smooth\"});\r\n});\r\n"]}