parcelRequire=function(e,r,n,t){var i="function"==typeof parcelRequire&&parcelRequire,o="function"==typeof require&&require;function u(n,t){if(!r[n]){if(!e[n]){var f="function"==typeof parcelRequire&&parcelRequire;if(!t&&f)return f(n,!0);if(i)return i(n,!0);if(o&&"string"==typeof n)return o(n);var c=new Error("Cannot find module '"+n+"'");throw c.code="MODULE_NOT_FOUND",c}p.resolve=function(r){return e[n][1][r]||r};var l=r[n]=new u.Module(n);e[n][0].call(l.exports,p,l,l.exports,this)}return r[n].exports;function p(e){return u(p.resolve(e))}}u.isParcelRequire=!0,u.Module=function(e){this.id=e,this.bundle=u,this.exports={}},u.modules=e,u.cache=r,u.parent=i,u.register=function(r,n){e[r]=[function(e,r){r.exports=n},{}]};for(var f=0;f<n.length;f++)u(n[f]);if(n.length){var c=u(n[n.length-1]);"object"==typeof exports&&"undefined"!=typeof module?module.exports=c:"function"==typeof define&&define.amd?define(function(){return c}):t&&(this[t]=c)}return u}({"t8pi":[function(require,module,exports) {
module.exports={weatherApiKey:"f79e38a9176442b59ae105655180707"};
},{}],"Adml":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.Dom=exports.Weather=exports.LocalStorageApi=exports.LocationApi=void 0;var e=function(){function e(e,t){for(var r=0;r<t.length;r++){var i=t[r];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(t,r,i){return r&&e(t.prototype,r),i&&e(t,i),t}}(),t=require("./config.json"),r=i(t);function i(e){return e&&e.__esModule?e:{default:e}}function n(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}var a=exports.LocationApi=function(){function t(){n(this,t)}return e(t,[{key:"getMyLocation",value:function(){var e=JSON.parse(localStorage.getItem("ipCache"))||{};if(e.location){if(Date.now()-e.location.timestamp<12e5)return Promise.resolve(e.location.data);e.location=null,localStorage.setItem("ipCache",JSON.stringify(e))}return fetch("http://ip-api.com/json").then(function(e){return 200===e.status?e.json():Promise.reject(e.status)}).then(function(t){return e.location={timestamp:Date.now(),data:t},localStorage.setItem("ipCache",JSON.stringify(e)),t})}}]),t}(),o=exports.LocalStorageApi=function(){function t(){n(this,t)}return e(t,[{key:"removeStorageItem",value:function(){for(var e=0;e<localStorage.length;e++){var t=localStorage.key(e),r=JSON.parse(localStorage.getItem(t));for(var i in r)Date.now()-r[i].timestamp>12e5&&localStorage.removeItem(t)}}}]),t}(),s=exports.Weather=function(){function t(){n(this,t)}return e(t,[{key:"getWeather",value:function(e){var t=JSON.parse(localStorage.getItem("weatherCache"))||{};if(t[e]){if(Date.now()-t[e].timestamp<12e5)return Promise.resolve(t[e].data);t[e]=null,localStorage.setItem("weatherCache",JSON.stringify(t))}return fetch("https://api.apixu.com/v1/forecast.json?key="+r.default.weatherApiKey+"&q="+e+"&days=6&lang=en").then(function(e){return 200===e.status?e.json():Promise.reject(e.status)}).then(function(r){return t[e]={timestamp:Date.now(),data:r},localStorage.setItem("weatherCache",JSON.stringify(t)),r})}}]),t}(),c=exports.Dom=function(){function t(){n(this,t),this.preloader=document.getElementsByClassName("preloader"),this.locationBlock=document.getElementById("location_block"),this.country=document.getElementById("country"),this.city=document.getElementById("city")}return e(t,[{key:"showPreloader",value:function(){var e=this;setTimeout(function(){for(var t=0;t<e.preloader.length;t+=1)e.preloader[t].classList.remove("done")},500)}},{key:"hidePreloader",value:function(){var e=this;setTimeout(function(){for(var t=0;t<e.preloader.length;t+=1)e.preloader[t].classList.add("done")},500)}},{key:"setLocation",value:function(e){this.country.innerHTML=e.location.country,this.city.innerHTML=e.location.name}},{key:"setWeatherToday",value:function(e){var t=document.getElementById("weather_today");this.weekday=t.querySelector("[class='weekday']"),this.date=t.querySelector("[class='date']"),this.weatherIcon=t.querySelector("[class='weather_icon']"),this.description=t.querySelector("[class='description']"),this.tempMax=t.querySelector("[class='temp_max']"),this.tempMin=t.querySelector("[class='temp_min']"),this.humidity=t.querySelector("[class='humidity']"),this.pressure=t.querySelector("[class='pressure']"),this.winds=t.querySelector("[class='wind']"),this.date.innerHTML=e.forecast.forecastday[0].date,this.day=new Date(this.date.innerHTML),this.weekday.innerHTML=this.day.toLocaleString("en",{weekday:"short"}),this.weatherIcon.src="http:"+e.current.condition.icon,this.description.innerHTML=e.current.condition.text,this.tempMax.innerHTML=e.current.temp_c+" ºC",this.tempMin.innerHTML=e.forecast.forecastday[0].day.mintemp_c+" ºC",this.humidity.innerHTML=e.current.humidity+" %",this.pressure.innerHTML=e.current.pressure_mb+" hPa",this.winds.innerHTML=(e.current.wind_kph/3.6).toFixed(1)+" m/s"}},{key:"setWeatherForecast",value:function(e){for(var t=document.getElementsByClassName("weather_item"),r=0;r<t.length;r++)this.weekday=t[r].querySelector("[class='weekday']"),this.date=t[r].querySelector("[class='date']"),this.weatherIcon=t[r].querySelector("[class='weather_icon']"),this.tempMax=t[r].querySelector("[class='temp_max']"),this.tempMin=t[r].querySelector("[class='temp_min']"),this.date.innerHTML=e.forecast.forecastday[r+1].date,this.day=new Date(this.date.innerHTML),this.weekday.innerHTML=this.day.toLocaleString("en",{weekday:"short"}),this.weatherIcon.src="http:"+e.forecast.forecastday[r+1].day.condition.icon,this.tempMax.innerHTML=e.forecast.forecastday[r+1].day.maxtemp_c+" ºC",this.tempMin.innerHTML=e.forecast.forecastday[r+1].day.mintemp_c+" ºC"}},{key:"setWeatherMain",value:function(e){var t=document.getElementById("weather_today");this.weatherIcon=t.querySelector("[class='weather_icon']"),this.description=t.querySelector("[class='description']"),this.tempMax=t.querySelector("[class='temp_max']"),this.tempMin=t.querySelector("[class='temp_min']"),this.weatherIcon.src="http:"+e.current.condition.icon,this.description.innerHTML=e.current.condition.text,this.tempMax.innerHTML=e.current.temp_c+" ºC",this.tempMin.innerHTML=e.forecast.forecastday[0].day.mintemp_c+" ºC"}},{key:"showError",value:function(e){var t=this;this.errorMessage=document.getElementById("error"),this.inputCity=document.getElementById("input_city"),this.inputCity.value?/^[A-z]{1,}/.test(this.inputCity.value)?400===e?(this.errorMessage.innerHTML="Error "+e+". No location is found. Please, type correct city",this.inputCity.classList.add("error")):this.errorMessage.innerHTML="Error "+e+". Server is not available. Please, try again later":(this.errorMessage.innerHTML="Please, type city with Latin characters.",this.inputCity.classList.add("error")):(this.errorMessage.innerHTML="Please, type city",this.inputCity.classList.add("error")),this.errorMessage.classList.remove("done"),this.hidePreloader(),this.inputCity.onkeyup=function(){t.errorMessage.classList.add("done"),t.inputCity.classList.remove("error")}}}]),t}();
},{"./config.json":"t8pi"}],"rUGa":[function(require,module,exports) {
"use strict";var t=function(){function t(t,e){for(var s=0;s<e.length;s++){var a=e[s];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(t,a.key,a)}}return function(e,s,a){return s&&t(e.prototype,s),a&&t(e,a),e}}(),e=require("./loc&WeatherApi.js");function s(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}var a=function(){function e(){s(this,e)}return t(e,[{key:"setDate",value:function(){this.time=document.getElementById("time"),this.day=document.getElementById("day"),this.date=new Date;this.time.innerHTML=this.date.toLocaleTimeString("en-GB",{hour:"numeric",minute:"numeric"}),this.day.innerHTML=this.date.toLocaleDateString("en-GB",{weekday:"long",day:"numeric",month:"long",year:"numeric"})}}]),e}(),i=new a,n=new e.Dom,r=new e.Weather,h=new e.LocationApi,d=new e.LocalStorageApi;function o(){n.showPreloader(),i.setDate(),d.removeStorageItem(),h.getMyLocation().then(function(t){return r.getWeather(t.city)}).then(function(t){n.setLocation(t),n.setWeatherMain(t),n.hidePreloader()}).catch(function(t){n.hidePreloader(),console.log("Error:",t)})}window.onload=function(){o()};var c=function(){function e(t,a){s(this,e),this.date=new Date(t).toLocaleDateString().split(".").reverse().join("-"),this.scheduleItem=document.createElement("div"),this.scheduleItem.classList.add("schedule_item"),this.weekday=document.createElement("span"),this.weekday.classList.add("weekday"),this.dayMonth=document.createElement("span"),this.dayMonth.classList.add("day_month"),this.taskDate=document.createElement("div"),this.taskDate.classList.add("task_date"),this.taskDate.appendChild(this.weekday),this.taskDate.appendChild(this.dayMonth),this.taskRow=document.createElement("div"),this.taskRow.classList.add("task_row"),this.statOutput=document.createElement("div"),this.statOutput.classList.add("statOutput"),this.navArrow=document.createElement("span"),this.navArrow.classList.add("navArrow"),this.navArrow.innerHTML="<i class='fas fa-caret-down'></i>",this.navArrow.classList.add("hide"),this.taskSet=document.createElement("div"),this.taskSet.classList.add("taskSet"),this.taskSet.appendChild(this.taskRow),this.taskSet.appendChild(this.statOutput),this.taskSet.appendChild(this.navArrow),this.setDate(t),this.setTasks(),this.setStatistic(),this.checkHiddenTask=!0,this.scheduleItem.onclick=this.hideTasks.bind(this),this.scheduleItem.appendChild(this.taskDate),this.scheduleItem.appendChild(this.taskSet),a.appendChild(this.scheduleItem)}return t(e,[{key:"setDate",value:function(t){this.weekday.textContent=new Date(t).toDateString().slice(0,3),this.dayMonth.textContent=new Date(t).toLocaleDateString().slice(0,5)}},{key:"setTasks",value:function(){var t=this;this.taskStr="",l[this.date]&&(this.taskArr=Object.values(l[this.date]),this.taskArr.map(function(e){t.taskArr.indexOf(e)<3?(!0===e.state?t.taskStr+="<p><span>"+e.task+"</span></p>":t.taskStr+="<p>"+e.task+"</p>",t.navArrow.classList.add("hide")):(!0===e.state?t.taskStr+='<p class="hide"><span>'+e.task+"</span></p>":t.taskStr+='<p class="hide">'+e.task+"</p>",t.navArrow.classList.remove("hide"))})),this.taskRow.innerHTML=this.taskStr}},{key:"setStatistic",value:function(){if(l[this.date]){this.total=Object.keys(l[this.date]).length,this.done=0;var t=!0,e=!1,s=void 0;try{for(var a,i=Object.values(l[this.date])[Symbol.iterator]();!(t=(a=i.next()).done);t=!0){!0===a.value.state&&(this.done+=1)}}catch(t){e=!0,s=t}finally{try{!t&&i.return&&i.return()}finally{if(e)throw s}}this.done===this.total?this.statistic="All tasks completed":this.statistic='Completed: <span class="completed">'+this.done+'</span> of <span class="total">'+this.total+"</span>"}else this.total=0,this.statistic=this.total+" task on this day";this.statOutput.innerHTML=this.statistic}},{key:"hideTasks",value:function(){if(this.arr=this.scheduleItem.querySelectorAll("p"),this.arr.length>3)if(this.checkHiddenTask){for(var t=3;t<this.arr.length;t++)this.arr[t].classList.remove("hide");this.checkHiddenTask=!1,this.navArrow.innerHTML="<i class='fas fa-caret-up'></i>"}else{for(var e=3;e<this.arr.length;e++)this.arr[e].classList.add("hide");this.checkHiddenTask=!0,this.navArrow.innerHTML="<i class='fas fa-caret-down'></i>"}}}]),e}(),l=JSON.parse(localStorage.getItem("todoCache"))||{},u=document.getElementById("schedule_wrp"),k=document.createElement("div");k.setAttribute("id","schedule");for(var p=0,m=(new Date).getTime()-864e5;p<8;p++,m+=864e5)var f=new c(m,k);u.appendChild(k);
},{"./loc&WeatherApi.js":"Adml"}]},{},["rUGa"], null)
//# sourceMappingURL=/flea_market/main.45073534.map