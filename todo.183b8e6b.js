parcelRequire=function(e,r,n,t){var i="function"==typeof parcelRequire&&parcelRequire,o="function"==typeof require&&require;function u(n,t){if(!r[n]){if(!e[n]){var f="function"==typeof parcelRequire&&parcelRequire;if(!t&&f)return f(n,!0);if(i)return i(n,!0);if(o&&"string"==typeof n)return o(n);var c=new Error("Cannot find module '"+n+"'");throw c.code="MODULE_NOT_FOUND",c}p.resolve=function(r){return e[n][1][r]||r};var l=r[n]=new u.Module(n);e[n][0].call(l.exports,p,l,l.exports,this)}return r[n].exports;function p(e){return u(p.resolve(e))}}u.isParcelRequire=!0,u.Module=function(e){this.id=e,this.bundle=u,this.exports={}},u.modules=e,u.cache=r,u.parent=i,u.register=function(r,n){e[r]=[function(e,r){r.exports=n},{}]};for(var f=0;f<n.length;f++)u(n[f]);if(n.length){var c=u(n[n.length-1]);"object"==typeof exports&&"undefined"!=typeof module?module.exports=c:"function"==typeof define&&define.amd?define(function(){return c}):t&&(this[t]=c)}return u}({"DFEW":[function(require,module,exports) {
var t=function(){function t(t,e){for(var s=0;s<e.length;s++){var i=e[s];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}return function(e,s,i){return s&&t(e.prototype,s),i&&t(e,i),e}}();function e(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}function s(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}function i(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}var n=function(){function e(t,s){i(this,e),this.date=t,this.list=document.createElement("ul"),this.list.setAttribute("id",this.date),this.list.classList.add("todolist"),this.cell=document.getElementById("td"+this.date),this.closebtn=document.createElement("span"),this.closebtn.classList.add("close_list"),this.closebtn.setAttribute("title","Close"),this.closebtn.innerHTML="<i class='fas fa-times'></i>",this.dateOutput=document.createElement("p"),this.dateOutput.textContent=this.date,this.noTaskMesssage=document.createElement("div"),this.noTaskMesssage.setAttribute("id","noTaskMesssage_"+this.date),this.noTaskMesssage.textContent="No task on this date",this.noTaskMesssage.classList.add("hide"),this.navBlock=document.createElement("nav"),this.navBlock.setAttribute("id","nav_"+this.date),this.showUndonebtn=document.createElement("button"),this.showUndonebtn.innerHTML="Undone",this.showDonebtn=document.createElement("button"),this.showDonebtn.innerHTML="Done",this.showAllbtn=document.createElement("button"),this.showAllbtn.innerHTML="Show all",this.deleteAllbtn=document.createElement("button"),this.deleteAllbtn.innerHTML="Delete All",this.completeAllInp=document.createElement("input"),this.completeAllInp.setAttribute("type","checkbox"),this.completeAllInp.setAttribute("id","completeAllInp_"+this.date),this.completeAllInp.style.display="none",this.completeAllLabel=document.createElement("label"),this.completeAllLabel.setAttribute("for","completeAllInp_"+this.date),this.completeAllLabel.innerHTML="Complete All",this.checkCompleted=!1,this.closebtn.onclick=this.closeList.bind(this),this.showUndonebtn.onclick=this.filterTask.bind(this,!1),this.showDonebtn.onclick=this.filterTask.bind(this,!0),this.showAllbtn.onclick=this.showAll.bind(this),this.deleteAllbtn.onclick=this.deleteAll.bind(this),this.completeAllInp.onchange=this.completeAll.bind(this),this.navBlock.appendChild(this.showUndonebtn),this.navBlock.appendChild(this.showDonebtn),this.navBlock.appendChild(this.showAllbtn),this.navBlock.appendChild(this.deleteAllbtn),this.navBlock.appendChild(this.completeAllInp),this.navBlock.appendChild(this.completeAllLabel),this.list.appendChild(this.closebtn),this.list.appendChild(this.dateOutput),this.list.appendChild(this.noTaskMesssage),this.list.appendChild(this.navBlock),s.appendChild(this.list)}return t(e,[{key:"closeList",value:function(){this.list.remove()}},{key:"filterTask",value:function(t){for(var e in r[this.date])this.li=document.getElementById(""+e),r[this.date][e].state===t?this.li.classList.remove("hide"):r[this.date][e].state!==t&&this.li.classList.add("hide")}},{key:"showAll",value:function(){for(var t in r[this.date])this.li=document.getElementById(""+t),this.li.classList.remove("hide")}},{key:"deleteAll",value:function(){for(var t in r[this.date])this.li=document.getElementById(""+t),this.li.remove();this.navBlock.classList.add("hide"),this.noTaskMesssage.classList.remove("hide"),this.cell&&(this.cell.classList.remove("occupied"),this.cell.classList.remove("all_completed")),delete r[this.date],localStorage.setItem("todoCache",JSON.stringify(r))}},{key:"completeAll",value:function(){if(!0!==this.checkCompleted){for(var t in r[this.date])r[this.date][t].state=!0,this.li=document.getElementById(""+t),this.li.querySelector("span").classList.add("done_task"),this.li.querySelector("label[for=check_"+t).classList.add("inp_checked"),this.li.querySelector("button.editbtn").setAttribute("disabled",!0);this.checkCompleted=!0,this.completeAllLabel.innerHTML="Uncomplete All",this.cell&&(this.cell.classList.remove("occupied"),this.cell.classList.add("all_completed"))}else{for(var e in r[this.date])r[this.date][e].state=!1,this.li=document.getElementById(""+e),this.li.querySelector("span").classList.remove("done_task"),this.li.querySelector("label[for=check_"+e).classList.remove("inp_checked"),this.li.querySelector("button.editbtn").removeAttribute("disabled");this.checkCompleted=!1,this.completeAllLabel.innerHTML="Complete All",this.cell&&(this.cell.classList.add("occupied"),this.cell.classList.remove("all_completed"))}localStorage.setItem("todoCache",JSON.stringify(r))}}]),e}(),a=function(){function e(t,s){i(this,e),this.date=t,this.text=s,this.stamp=Date.now(),this.taskObj=r[this.date]||{},this.cell=document.getElementById("td"+this.date),this.li=document.createElement("li"),this.li.setAttribute("id",this.stamp),this.li.classList.add("todoitem"),this.doneInp=document.createElement("input"),this.doneInp.setAttribute("type","checkbox"),this.doneInp.setAttribute("id","check_"+this.stamp),this.doneInp.style.display="none",this.doneLable=document.createElement("label"),this.doneLable.setAttribute("for","check_"+this.stamp),this.doneLable.innerHTML="<i class='fas fa-check'></i>",this.span=document.createElement("span"),this.editinput=document.createElement("textarea"),this.editinput.classList.add("hide"),this.editbtn=document.createElement("button"),this.editbtn.classList.add("editbtn"),this.editbtn.innerHTML="<i class='far fa-edit'></i>",this.savebtn=document.createElement("button"),this.savebtn.innerHTML="<i class='far fa-save'></i>",this.savebtn.classList.add("hide"),this.removebtn=document.createElement("button"),this.removebtn.innerHTML="<i class='fas fa-trash'></i>",this.editbtn.onclick=this.editTask.bind(this),this.doneInp.onchange=this.doneTask.bind(this),this.removebtn.onclick=this.removeTask.bind(this),this.li.appendChild(this.doneInp),this.li.appendChild(this.doneLable),this.li.appendChild(this.span),this.li.appendChild(this.editinput),this.li.appendChild(this.editbtn),this.li.appendChild(this.savebtn),this.li.appendChild(this.removebtn),this.list=document.getElementById(this.date)||null,this.noTaskMesssage=document.getElementById("noTaskMesssage_"+this.date),this.navBlock=document.getElementById("nav_"+this.date)}return t(e,[{key:"addTask",value:function(){this.text&&this.date&&(console.log("hi"),this.taskObj[""+this.stamp]={task:this.text,state:!1},r[this.date]=this.taskObj,localStorage.setItem("todoCache",JSON.stringify(r)),this.cell&&this.cell.classList.add("occupied"),this.span.textContent=this.text,this.noTaskMesssage.classList.add("hide"),this.navBlock.classList.remove("hide"),this.list.appendChild(this.li))}},{key:"editTask",value:function(){var t=this;this.editbtn.addEventListener("click",function(){t.editinput.value=t.span.textContent,t.span.classList.add("hide"),t.editbtn.classList.add("hide"),t.editinput.classList.remove("hide"),t.savebtn.classList.remove("hide"),t.editinput.addEventListener("keyup",function(e){13===e.keyCode&&t.saveChanges()}),t.savebtn.addEventListener("click",function(){t.saveChanges()})})}},{key:"saveChanges",value:function(){this.span.textContent=this.editinput.value,this.editinput.classList.add("hide"),this.savebtn.classList.add("hide"),this.span.classList.remove("hide"),this.editbtn.classList.remove("hide"),this.taskObj[""+this.stamp].task=""+this.span.textContent,this.taskObj[""+this.stamp].state=!1,r[this.date]=this.taskObj,localStorage.setItem("todoCache",JSON.stringify(r))}},{key:"doneTask",value:function(){(this.cell=document.getElementById("td"+this.date),!0!==this.taskObj[""+this.stamp].state)?(this.span.classList.add("done_task"),this.doneLable.classList.add("inp_checked"),this.editbtn.setAttribute("disabled",!0),this.taskObj[""+this.stamp].state=!0,Object.values(this.taskObj).find(function(t){return!1===t.state})||(console.log(this.cell),this.cell&&(this.cell.classList.remove("occupied"),this.cell.classList.add("all_completed")))):(this.span.classList.remove("done_task"),this.doneLable.classList.remove("inp_checked"),this.editbtn.removeAttribute("disabled"),this.taskObj[""+this.stamp].state=!1,this.cell&&(this.cell.classList.add("occupied"),this.cell.classList.remove("all_completed")));r[this.date]=this.taskObj,localStorage.setItem("todoCache",JSON.stringify(r))}},{key:"removeTask",value:function(){this.list.removeChild(this.li),delete this.taskObj[""+this.stamp],0===Object.keys(this.taskObj).length?(delete r[this.date],this.navBlock.classList.add("hide"),this.noTaskMesssage.classList.remove("hide"),this.cell&&this.cell.classList.remove("occupied")):r[this.date]=this.taskObj,localStorage.setItem("todoCache",JSON.stringify(r))}}]),e}(),l=function(n){function l(t,s,n,a){i(this,l);var d=e(this,(l.__proto__||Object.getPrototypeOf(l)).call(this));return d.date=t,d.taskObj=r[d.date],d.stamp=s,d.text=n,d.state=a,d.loadTask(),d}return s(l,a),t(l,[{key:"loadTask",value:function(){this.list=document.getElementById(this.date),this.noTaskMesssage=document.getElementById("noTaskMesssage_"+this.date),this.navBlock=document.getElementById("nav_"+this.date),this.taskObj?(this.span.textContent=this.text,!0===this.taskObj[""+this.stamp].state&&(this.span.classList.add("done_task"),this.doneLable.classList.add("inp_checked"),this.editbtn.setAttribute("disabled",!0)),this.doneInp=this.li.querySelector("input[type='checkbox']"),this.doneLable=this.li.querySelector("label"),this.doneInp.setAttribute("id","check_"+this.stamp),this.doneLable.setAttribute("for","check_"+this.stamp),this.li.setAttribute("id",this.stamp),this.list.appendChild(this.li)):(this.navBlock.classList.add("hide"),this.noTaskMesssage.classList.remove("hide"))}}]),l}();function d(t){var e=document.getElementById("addtask"),s=document.getElementById("inpDate"),i=e.value,n=s.value,l=document.getElementById(n);if(i?e.classList.remove("inpError"):e.classList.add("inpError"),n?s.classList.remove("inpError"):s.classList.add("inpError"),i&&n){if(l)new a(n,i).addTask();else o(n,t),new a(n,i).addTask();e.value=""}}function o(t,e){if(!document.getElementById(t)){new n(t,e);if(r[t]){var s=void 0,i=void 0,a=void 0;for(var d in r[t]){s=d,i=r[t][d].task,a=r[t][d].state;new l(t,s,i,a)}}else{console.log("no");new l(t)}}}function h(t,e,s){var i=new Date(e,s+1,0).getDate(),n=new Date(e,s,i),a=new Date(n.getFullYear(),n.getMonth(),i).getDay(),l=new Date(n.getFullYear(),n.getMonth(),1).getDay(),d="<tr>";if(0!=l)for(var o=1;o<l;o++)d+="<td>";else for(var h=0;h<6;h++)d+="<td>";for(var c=1;c<=i;c++)c==(new Date).getDate()&&n.getFullYear()==(new Date).getFullYear()&&n.getMonth()==(new Date).getMonth()?d+="<td class='today'>"+c:d+="<td>"+c,0==new Date(n.getFullYear(),n.getMonth(),c).getDay()&&(d+="<tr>");for(var r=a;r<7;r++)d+="<td>&nbsp</td>";document.querySelector("#"+t+" tbody").innerHTML=d,document.querySelector("#"+t+" thead th:nth-child(2)").innerHTML=["January","February","March","April","May","June","July","August","September","October","November","December"][n.getMonth()]+" "+n.getFullYear(),document.querySelector("#"+t+" thead th:nth-child(2)").dataset.month=n.getMonth(),document.querySelector("#"+t+" thead th:nth-child(2)").dataset.year=n.getFullYear(),document.querySelectorAll("#"+t+" tbody tr").length<6&&(document.querySelector("#"+t+" tbody").innerHTML+="<tr><td>&nbsp</td><td>&nbsp</td><td>&nbsp</td><td>&nbsp</td><td>&nbsp</td><td>&nbsp</td><td>&nbsp</td></tr>")}function c(t){var e=document.getElementById("daySet").getElementsByTagName("td"),s=document.getElementById("monthSet"),i=parseInt(s.getAttribute("data-month"),10)+1;i<10&&(i="0"+i);for(var n=parseInt(s.getAttribute("data-year"),10),a="",l="",d=0;d<e.length;d++){if("&nbsp"!==e[d].textContent)if((a=parseInt(e[d].textContent,10))<10&&(a="0"+a),l=n+"-"+i+"-"+a,e[d].setAttribute("id","td"+l),isNaN(a)||e[d].addEventListener("click",function(e){o(e.target.id.slice(2),t)}),r[l])Object.values(r[l]).find(function(t){return!1===t.state})?e[d].classList.add("occupied"):e[d].classList.add("all_completed");else e[d].classList.remove("occupied"),e[d].classList.remove("all_completed")}}h("calendar2",(new Date).getFullYear(),(new Date).getMonth()),document.querySelector("#calendar2 thead tr:nth-child(1) th:nth-child(1)").onclick=function(){h("calendar2",document.querySelector("#calendar2 thead th:nth-child(2)").dataset.year,parseFloat(document.querySelector("#calendar2 thead th:nth-child(2)").dataset.month)-1),c(u)},document.querySelector("#calendar2 thead tr:nth-child(1) th:nth-child(3)").onclick=function(){h("calendar2",document.querySelector("#calendar2 thead th:nth-child(2)").dataset.year,parseFloat(document.querySelector("#calendar2 thead th:nth-child(2)").dataset.month)+1),c(u)};var r=JSON.parse(localStorage.getItem("todoCache"))||{},u=document.getElementById("todo_wrp");window.onload=function(){document.getElementById("inpDate").valueAsDate=new Date,o((new Date).toLocaleDateString().split(".").reverse().join("-"),u),o(new Date((new Date).getTime()+864e5).toLocaleDateString().split(".").reverse().join("-"),u),c(u)};var m=document.getElementById("addbtn");m.addEventListener("click",function(){d(u)});var p=document.getElementById("addtask");p.addEventListener("keyup",function(t){13===t.keyCode&&d(u)});
},{}]},{},["DFEW"], null)
//# sourceMappingURL=/flea_market/todo.183b8e6b.map